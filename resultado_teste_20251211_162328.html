<!doctype html><html><head><meta charset='utf-8'><title>Relatório de Testes - 20251211_162328</title><style>
body { font-family: Arial; background:#f2f2f2; padding: 20px; }
h1 { font-size:20px; }
.summary { background:white; padding:15px; border-radius:6px; margin-bottom:10px; }
.err { color:#b00020; background:#ffe5e5; padding:4px 8px; border-left:4px solid #b00020; margin:2px 0; white-space:pre-wrap; }
.warn { color:#8a6d0a; background:#fff6d5; padding:4px 8px; border-left:4px solid #e0b400; margin:2px 0; white-space:pre-wrap; }
.ok { color:#1b7a24; background:#eaffea; padding:4px 8px; border-left:4px solid #3ccb4a; margin:2px 0; white-space:pre-wrap; }
.plain { background:white; padding:4px 8px; margin:2px 0; white-space:pre-wrap; }
.logblock { background:white; padding:10px; max-height:70vh; overflow:auto; border-radius:6px; }
</style></head><body><h1>Relatório de Testes - 20251211_162328</h1><div class='summary'><b>Passaram:</b> 0 &nbsp;&nbsp; <b>Falharam:</b> 1 &nbsp;&nbsp; <b>Erros:</b> 0 &nbsp;&nbsp; <b>Warnings:</b> 0<br><br><b>Tipos de erros:</b> TypeError(5), StatementError(2)</div><div class='logblock'><div class="plain">F                                                                                                                             [100%]</div><div class="plain">============================================================= FAILURES =============================================================</div><div class="plain">________________________________________________________ test_criar_usuario ________________________________________________________</div><div class="plain"></div><div class="plain">self = &lt;sqlalchemy.engine.base.Connection object at 0x000001FF738C5E50&gt;</div><div class="plain">dialect = &lt;sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x000001FF738A5A90&gt;</div><div class="plain">constructor = &lt;bound method DefaultExecutionContext._init_compiled of &lt;class &#x27;sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext&#x27;&gt;&gt;</div><div class="plain">statement = &lt;sqlalchemy.dialects.sqlite.base.SQLiteCompiler object at 0x000001FF73B5C830&gt;</div><div class="plain">parameters = [{&#x27;data_nascimento&#x27;: &#x27;1990-01-01&#x27;, &#x27;email&#x27;: &#x27;daniel@gmail.com&#x27;, &#x27;nome&#x27;: &#x27;Daniel&#x27;, &#x27;senha_hash&#x27;: &#x27;abc123&#x27;}]</div><div class="plain">execution_options = immutabledict({&#x27;compiled_cache&#x27;: &lt;sqlalchemy.util._collections.LRUCache object at 0x000001FF73B5AED0&gt;})</div><div class="plain">args = (&lt;sqlalchemy.dialects.sqlite.base.SQLiteCompiler object at 0x000001FF73B5C830&gt;, [{&#x27;data_nascimento&#x27;: &#x27;1990-01-01&#x27;, &#x27;em...l@gmail.com&#x27;, &#x27;nome&#x27;: &#x27;Daniel&#x27;, &#x27;senha_hash&#x27;: &#x27;abc123&#x27;}], &lt;sqlalchemy.sql.dml.Insert object at 0x000001FF73B5C6E0&gt;, [])</div><div class="plain">kw = {&#x27;cache_hit&#x27;: &lt;CacheStats.CACHE_MISS: 1&gt;}, yp = None</div><div class="plain">conn = &lt;sqlalchemy.pool.base._ConnectionFairy object at 0x000001FF739597F0&gt;</div><div class="plain"></div><div class="plain">    def _execute_context(</div><div class="plain">        self,</div><div class="plain">        dialect: Dialect,</div><div class="plain">        constructor: Callable[..., ExecutionContext],</div><div class="plain">        statement: Union[str, Compiled],</div><div class="plain">        parameters: Optional[_AnyMultiExecuteParams],</div><div class="plain">        execution_options: _ExecuteOptions,</div><div class="plain">        *args: Any,</div><div class="plain">        **kw: Any,</div><div class="plain">    ) -&gt; CursorResult[Any]:</div><div class="plain">        &quot;&quot;&quot;Create an :class:`.ExecutionContext` and execute, returning</div><div class="plain">        a :class:`_engine.CursorResult`.&quot;&quot;&quot;</div><div class="plain">    </div><div class="plain">        if execution_options:</div><div class="plain">            yp = execution_options.get(&quot;yield_per&quot;, None)</div><div class="plain">            if yp:</div><div class="plain">                execution_options = execution_options.union(</div><div class="plain">                    {&quot;stream_results&quot;: True, &quot;max_row_buffer&quot;: yp}</div><div class="plain">                )</div><div class="plain">        try:</div><div class="plain">            conn = self._dbapi_connection</div><div class="plain">            if conn is None:</div><div class="plain">                conn = self._revalidate_connection()</div><div class="plain">    </div><div class="plain">&gt;           context = constructor(</div><div class="plain">                dialect, self, conn, execution_options, *args, **kw</div><div class="plain">            )</div><div class="plain"></div><div class="plain">..\..\miniconda3\Lib\site-packages\sqlalchemy\engine\base.py:1815: </div><div class="plain">_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ </div><div class="plain">..\..\miniconda3\Lib\site-packages\sqlalchemy\engine\default.py:1496: in _init_compiled</div><div class="plain">    flattened_processors[key](compiled_params[key])</div><div class="plain">_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ </div><div class="plain"></div><div class="plain">value = &#x27;1990-01-01&#x27;</div><div class="plain"></div><div class="plain">    def process(value):</div><div class="plain">        if value is None:</div><div class="plain">            return None</div><div class="plain">        elif isinstance(value, datetime_date):</div><div class="plain">            return format_ % {</div><div class="plain">                &quot;year&quot;: value.year,</div><div class="plain">                &quot;month&quot;: value.month,</div><div class="plain">                &quot;day&quot;: value.day,</div><div class="plain">            }</div><div class="plain">        else:</div><div class="plain">&gt;           raise TypeError(</div><div class="plain">                &quot;SQLite Date type only accepts Python &quot;</div><div class="plain">                &quot;date objects as input.&quot;</div><div class="plain">            )</div><div class="plain">E           TypeError: SQLite Date type only accepts Python date objects as input.</div><div class="plain"></div><div class="plain">..\..\miniconda3\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1287: TypeError</div><div class="plain"></div><div class="plain">The above exception was the direct cause of the following exception:</div><div class="plain"></div><div class="plain">session = &lt;sqlalchemy.orm.session.Session object at 0x000001FF738A7230&gt;</div><div class="plain"></div><div class="plain">    def test_criar_usuario(session):</div><div class="plain">        from src.models import Usuario</div><div class="plain">    </div><div class="plain">        u = Usuario(</div><div class="plain">            nome = &quot;Daniel&quot;,</div><div class="plain">            email = &quot;daniel@gmail.com&quot;,</div><div class="plain">            senha_hash = &quot;abc123&quot;,</div><div class="plain">            data_nascimento = &quot;1990-01-01&quot;</div><div class="plain">        )</div><div class="plain">        session.add(u)</div><div class="plain">&gt;       session.commit()</div><div class="plain"></div><div class="plain">formacao_python-developer_dio\SQL_Alchemy\Desafio\projeto\Testes_Fase_1\test_01_model_base.py:11: </div><div class="plain">_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ </div><div class="plain">..\..\miniconda3\Lib\site-packages\sqlalchemy\orm\session.py:2030: in commit</div><div class="plain">    trans.commit(_to_root=True)</div><div class="plain">&lt;string&gt;:2: in commit</div><div class="plain">    ???</div><div class="plain">..\..\miniconda3\Lib\site-packages\sqlalchemy\orm\state_changes.py:137: in _go</div><div class="plain">    ret_value = fn(self, *arg, **kw)</div><div class="plain">                ^^^^^^^^^^^^^^^^^^^^</div><div class="plain">..\..\miniconda3\Lib\site-packages\sqlalchemy\orm\session.py:1311: in commit</div><div class="plain">    self._prepare_impl()</div><div class="plain">&lt;string&gt;:2: in _prepare_impl</div><div class="plain">    ???</div><div class="plain">..\..\miniconda3\Lib\site-packages\sqlalchemy\orm\state_changes.py:137: in _go</div><div class="plain">    ret_value = fn(self, *arg, **kw)</div><div class="plain">                ^^^^^^^^^^^^^^^^^^^^</div><div class="plain">..\..\miniconda3\Lib\site-packages\sqlalchemy\orm\session.py:1286: in _prepare_impl</div><div class="plain">    self.session.flush()</div><div class="plain">..\..\miniconda3\Lib\site-packages\sqlalchemy\orm\session.py:4331: in flush</div><div class="plain">    self._flush(objects)</div><div class="plain">..\..\miniconda3\Lib\site-packages\sqlalchemy\orm\session.py:4466: in _flush</div><div class="plain">    with util.safe_reraise():</div><div class="plain">         ^^^^^^^^^^^^^^^^^^^</div><div class="plain">..\..\miniconda3\Lib\site-packages\sqlalchemy\util\langhelpers.py:224: in __exit__</div><div class="plain">    raise exc_value.with_traceback(exc_tb)</div><div class="plain">..\..\miniconda3\Lib\site-packages\sqlalchemy\orm\session.py:4427: in _flush</div><div class="plain">    flush_context.execute()</div><div class="plain">..\..\miniconda3\Lib\site-packages\sqlalchemy\orm\unitofwork.py:466: in execute</div><div class="plain">    rec.execute(self)</div><div class="plain">..\..\miniconda3\Lib\site-packages\sqlalchemy\orm\unitofwork.py:642: in execute</div><div class="plain">    util.preloaded.orm_persistence.save_obj(</div><div class="plain">..\..\miniconda3\Lib\site-packages\sqlalchemy\orm\persistence.py:93: in save_obj</div><div class="plain">    _emit_insert_statements(</div><div class="plain">..\..\miniconda3\Lib\site-packages\sqlalchemy\orm\persistence.py:1233: in _emit_insert_statements</div><div class="plain">    result = connection.execute(</div><div class="plain">..\..\miniconda3\Lib\site-packages\sqlalchemy\engine\base.py:1419: in execute</div><div class="plain">    return meth(</div><div class="plain">..\..\miniconda3\Lib\site-packages\sqlalchemy\sql\elements.py:527: in _execute_on_connection</div><div class="plain">    return connection._execute_clauseelement(</div><div class="plain">..\..\miniconda3\Lib\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement</div><div class="plain">    ret = self._execute_context(</div><div class="plain">..\..\miniconda3\Lib\site-packages\sqlalchemy\engine\base.py:1821: in _execute_context</div><div class="plain">    self._handle_dbapi_exception(</div><div class="plain">..\..\miniconda3\Lib\site-packages\sqlalchemy\engine\base.py:2363: in _handle_dbapi_exception</div><div class="plain">    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e</div><div class="plain">..\..\miniconda3\Lib\site-packages\sqlalchemy\engine\base.py:1815: in _execute_context</div><div class="plain">    context = constructor(</div><div class="plain">..\..\miniconda3\Lib\site-packages\sqlalchemy\engine\default.py:1496: in _init_compiled</div><div class="plain">    flattened_processors[key](compiled_params[key])</div><div class="plain">_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ </div><div class="plain"></div><div class="plain">value = &#x27;1990-01-01&#x27;</div><div class="plain"></div><div class="plain">    def process(value):</div><div class="plain">        if value is None:</div><div class="plain">            return None</div><div class="plain">        elif isinstance(value, datetime_date):</div><div class="plain">            return format_ % {</div><div class="plain">                &quot;year&quot;: value.year,</div><div class="plain">                &quot;month&quot;: value.month,</div><div class="plain">                &quot;day&quot;: value.day,</div><div class="plain">            }</div><div class="plain">        else:</div><div class="plain">&gt;           raise TypeError(</div><div class="plain">                &quot;SQLite Date type only accepts Python &quot;</div><div class="plain">                &quot;date objects as input.&quot;</div><div class="plain">            )</div><div class="plain">E           sqlalchemy.exc.StatementError: (builtins.TypeError) SQLite Date type only accepts Python date objects as input.</div><div class="plain">E           [SQL: INSERT INTO usuarios (nome, email, senha_hash, data_nascimento) VALUES (?, ?, ?, ?)]</div><div class="plain">E           [parameters: [{&#x27;senha_hash&#x27;: &#x27;abc123&#x27;, &#x27;nome&#x27;: &#x27;Daniel&#x27;, &#x27;data_nascimento&#x27;: &#x27;1990-01-01&#x27;, &#x27;email&#x27;: &#x27;daniel@gmail.com&#x27;}]]</div><div class="plain"></div><div class="plain">..\..\miniconda3\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py:1287: StatementError</div><div class="plain">===================================================== short test summary info ======================================================</div><div class="err">FAILED formacao_python-developer_dio/SQL_Alchemy/Desafio/projeto/Testes_Fase_1/test_01_model_base.py::test_criar_usuario - sqlalch...</div><div class="plain">1 failed in 1.69s</div></div></body></html>